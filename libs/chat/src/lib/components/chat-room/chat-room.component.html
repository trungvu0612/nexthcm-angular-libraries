<section *rxLet="data$; let data" class="flex flex-col w-full h-full">
  <div class="flex items-center p-3 w-full border-b">
    <tui-svg
      class="rounded-full border border-gray-300 avatar"
      src="https://ng-web-apis.github.io/dist/assets/images/web-api.svg"
    ></tui-svg>
    <span class="ml-3 text-base font-bold">{{ data?.title }}</span>
  </div>
  <div *ngIf="data?.messages as messages" class="flex-1 overflow-y-auto">
    <div *ngFor="let message of messages; index as index; last as isLast" class="flex pt-0.5">
      <div
        [ngClass]="message.userId !== loggedInUserId ? 'received-message-container' : 'sent-message-container'"
        class="flex flex-1 items-end"
      >
        <div class="mx-2 message-avatar-wrapper">
          <tui-svg
            *ngIf="isLast || (messages[index + 1] && messages[index + 1].userId === loggedInUserId)"
            class="rounded-full message-avatar"
            src="https://ng-web-apis.github.io/dist/assets/images/web-api.svg"
          ></tui-svg>
        </div>
        <div class="py-2 px-3 rounded message-content">{{ message.content }}</div>
      </div>
      <div class="message-status"></div>
    </div>
  </div>
  <div class="input-container">

  </div>
</section>
