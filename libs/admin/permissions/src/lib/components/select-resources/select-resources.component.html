<ng-container *ngIf="state$ | async as state">
  <ng-container *ngIf="state.resource?.length">
    <div class="mb-1">{{ state.action.name }}</div>
    <tui-multi-select
      (searchChange)="search$.next($event || '')"
      [formControl]="$any(formControl$ | async)"
      [stringify]="stringify"
      [identityMatcher]="matcher"
      [tuiTextfieldLabelOutside]="true"
    >
      Select resources
      <tui-data-list-wrapper
        *tuiDataList
        [itemContent]="content"
        [items]="resources$ | async"
        tuiMultiSelectGroup
      ></tui-data-list-wrapper>
    </tui-multi-select>
    <ng-template #content let-resource> {{ resource.name }} </ng-template>
  </ng-container>
</ng-container>
