<main class="main-page">
  <header>
    <h1>Permission</h1>
    <button routerLink="./create" tuiButton>Create Permission</button>
  </header>
  <section *tuiLet="data$ | async as data" class="main-section">
    <ngx-table [columns]="(columns$ | async) || []" [configuration]="configuration" [data]="data?.items || []">
      <ng-template let-row>
        <td>{{ row.name }}</td>
        <td>{{ row.code }}</td>
        <td>{{ row.description }}</td>
        <td class="flex gap-2">
          <button
            [routerLink]="'./update/' + row.id"
            appearance="flat"
            icon="tuiIconEditLarge"
            size="m"
            tuiIconButton
          ></button>
          <button appearance="flat" icon="tuiIconTrashLarge" size="m" tuiIconButton></button>
        </td>
      </ng-template>
    </ngx-table>
    <tui-table-pagination
      (pageChange)="changePagination('page', $event)"
      (sizeChange)="changePagination('size', $event)"
      [total]="data?.totalElements || 0"
    ></tui-table-pagination>
  </section>
</main>
