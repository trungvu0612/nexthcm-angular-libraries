<main class="main-page">
  <header *transloco="let t">
    <h1>{{ t('permissionManagement') }}</h1>
    <button routerLink="./create" tuiButton> {{ t('addPermission') }}</button>
  </header>
  <section *tuiLet="data$ | async as data" class="main-section">
    <ngx-table [columns]="(columns$ | async) || []" [configuration]="configuration" [data]="data || []">
      <ng-template let-row>
        <td>{{ row.name }}</td>
        <td>{{ row.code }}</td>
        <td>{{ row.description }}</td>
        <td class="flex gap-2">
          <button
            [routerLink]="'./update/' + row.id"
            appearance="flat"
            icon="tuiIconEditLarge"
            size="m"
            tuiIconButton
          ></button>
          <button appearance="flat" (click)="delete(row.id)" icon="tuiIconTrashLarge" size="m" tuiIconButton></button>
        </td>
      </ng-template>
    </ngx-table>
    <tui-table-pagination
      (pageChange)="onPage($event)"
      (sizeChange)="onSize($event)"
      [total]="(total$ | async) || 0"
      class="tui-space_top-2"
    ></tui-table-pagination>
  </section>
</main>
