<div class="flex justify-end mb-6">
  <button (click)="onUpsertDomain()" size="m" tuiButton>{{ 'tenants.addDomain' | transloco }}</button>
</div>
<hcm-input-filter
  (valueChange)="search$.next($event)"
  class="mb-5"
  icon="tuiIconSearchLarge"
  label="{{ 'tenants.searchDomains' | transloco }}"
  propertyName="search"
></hcm-input-filter>
<tui-loader [overlay]="true" [showLoader]="(loading$ | async) === true">
  <ngx-table
    #table
    (event)="eventEmitted($event)"
    [columns]="(columns$ | async) || []"
    [configuration]="configuration"
    [data]="(data$ | async) || []"
  >
    <ng-template let-row>
      <ng-container *tuiLet="item(row) as item">
        <td>{{ item.name }}</td>
        <td>
          <a tuiLink>{{ item.domainUrl }}</a>
        </td>
        <td>
          <tui-tag
            [value]="CommonStatus[item.status] | transloco"
            class="{{ CommonStatus[item.status] }}-tag"
          ></tui-tag>
        </td>
        <td>
          <div class="flex items-center space-x-2">
            <button
              (click)="onUpsertDomain(item)"
              appearance="flat"
              icon="tuiIconEditLarge"
              size="m"
              tuiIconButton
            ></button>
            <button
              (click)="onRemoveTenantDomain(item.id)"
              appearance="flat"
              icon="tuiIconTrashLarge"
              size="m"
              tuiIconButton
            ></button>
          </div>
        </td>
      </ng-container>
    </ng-template>
  </ngx-table>
</tui-loader>
<tui-table-pagination
  (pageChange)="onPage($event)"
  (sizeChange)="onSize($event)"
  [total]="(total$ | async) || 0"
></tui-table-pagination>
