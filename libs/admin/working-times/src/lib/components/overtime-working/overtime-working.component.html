<label [label]="label" tuiLabel>
  <tui-select
    *tuiLet="orgs$ | push as items"
    [formControl]="$any(orgIdControl)"
    [tuiTextfieldLabelOutside]="true"
    [valueContent]="stringify(items || [])"
  >
    <ng-template tuiDataList>
      <tui-data-list>
        <button *ngFor="let item of items" [value]="item.id" tuiOption>
          {{ item.orgName }}
        </button>
      </tui-data-list>
    </ng-template>
  </tui-select>
</label>

<ng-template #label>
  <div class="font-semibold mb-2 mt-4 text-base">{{ 'organization' | transloco }}</div>
</ng-template>

<tui-loader [overlay]="true" [showLoader]="(loading$ | push) === true"></tui-loader>
<form (ngSubmit)="onSubmit()" [formGroup]="$any(form)">
  <formly-form [fields]="fields" [formGroup]="$any(form)" [form]="form" [model]="model"></formly-form>
  <div *transloco="let t" class="tui-form__buttons">
    <button [disabled]="!form.valid" class="tui-form__button" size="l" tuiButton>{{ t('save') }}</button>
    <button (click)="cancel()" appearance="flat" class="tui-form__button" size="l" tuiButton type="button">
      {{ t('cancel') }}
    </button>
  </div>
</form>
