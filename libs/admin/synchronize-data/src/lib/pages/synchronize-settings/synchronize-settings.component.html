<hcm-page [title]="'synchronizeData' | transloco">
  <ngx-table [columns]="(columns$ | async) || []" [configuration]="configuration" [data]="data || []">
    <form [formGroup]="syncForm">
      <ng-template let-index="index" let-row>
        <td>{{ row.name }}</td>
        <td>{{ row.description }}</td>
        <td>
          <tui-select
            *tuiLet="items$ | async as items"
            [tuiTextfieldLabelOutside]="true"
            [valueContent]="items ? stringify(items) : loading"
            class="b-form"
            formControlName="syncType"
            tuiTextfieldSize="m"
          >
            <ng-template tuiDataList>
              <tui-data-list *ngIf="items; else loading">
                <button *ngFor="let item of items" [value]="item.id" tuiOption>
                  {{ item.name }}
                </button>
              </tui-data-list>
            </ng-template>
            <ng-template #loading>
              <tui-loader class="tui-space_vertical-3 loader"></tui-loader>
            </ng-template>
          </tui-select>
        </td>
        <td>
          <tui-input [tuiTextfieldLabelOutside]="true" tuiTextfieldSize="m"> </tui-input>
        </td>
        <td>
          <tui-checkbox class="tui-space_bottom-3" formControlName="statusValue{{ index }}" size="l"></tui-checkbox>
        </td>
        <td>
          <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" size="m">
            Run manually
          </button>
        </td>
      </ng-template>
    </form>
  </ngx-table>
</hcm-page>
