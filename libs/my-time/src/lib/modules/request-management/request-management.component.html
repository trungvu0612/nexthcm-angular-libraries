<ng-container *transloco="let t">
  <hcm-page [title]="t('myTime.requestManagement')">
    <ng-container ngProjectAs="pageHeader">
      <tui-hosted-dropdown
        *ngxPermissionsOnly="'VIEW_ALL_REQUEST_TENANT'"
        [(open)]="open"
        [content]="dropdown"
        tuiDropdownAlign="left"
      >
        <button [iconRight]="icon" size="m" tuiButton>
          {{ t('myTime.createEmployeeRequest') }}
        </button>
      </tui-hosted-dropdown>
      <ng-template #icon>
        <tui-svg [class.rotate-90]="open" class="transition" src="tuiIconChevronDown"></tui-svg>
      </ng-template>
      <ng-template #dropdown>
        <tui-data-list>
          <button (click)="onCreateEmployeeRequest('leave')" tuiOption>{{ t('leave') }}</button>
          <button (click)="onCreateEmployeeRequest('workingAfterHours')" tuiOption>{{ t('workOverTime') }}</button>
          <button (click)="onCreateEmployeeRequest('workingOnsite')" tuiOption>{{ t('workingOnsite') }}</button>
          <button (click)="onCreateEmployeeRequest('workFromHome')" tuiOption>{{ t('workFromHome') }}</button>
        </tui-data-list>
      </ng-template>
    </ng-container>
    <tui-tabs [(activeItemIndex)]="activeItemIndex">
      <button routerLink="/my-time/requests/leave" routerLinkActive tuiTab>{{ t('myTime.leave') }}</button>
      <button routerLink="/my-time/requests/working-after-hours" routerLinkActive tuiTab>
        {{ t('workingAfterHours') }}
      </button>
      <button routerLink="/my-time/requests/update-timesheet" routerLinkActive tuiTab>
        {{ t('updateTimesheet') }}
      </button>
      <button routerLink="/my-time/requests/working-onsite" routerLinkActive tuiTab>
        {{ t('workingOnsite') }}
      </button>
      <button routerLink="/my-time/requests/work-from-home" routerLinkActive tuiTab>
        {{ t('workFromHome') }}
      </button>
      <!--<button routerLink="/my-time/requests/transfer-leave-entitlements" routerLinkActive tuiTab>
        {{ t('transferLeaveEntitlements') }}
      </button>-->
    </tui-tabs>
    <div class="mt-5">
      <router-outlet></router-outlet>
    </div>
  </hcm-page>
</ng-container>
