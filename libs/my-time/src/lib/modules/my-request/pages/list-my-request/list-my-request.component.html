<div class="p-8">
  <div class="container">
    <div class="flex">
      <div class="tui-text_h3">My Request</div>
      <button
        (click)="showDialog()"
        class="tui-space_right-3 tui-space_bottom-3 ml-auto"
        icon="tuiIconPlusLarge"
        tuiButton
        type="button"
      >
        Add Leave Type
      </button>
    </div>

    <form (ngSubmit)="onSearch()" [formGroup]="$any(searchForm)" class="object-form-container">
      <div class="grid grid-cols-2">
        <div [collapsed]="true" class="group" tuiGroup>
          <tui-radio-block [hideRadio]="true" formControlName="type" item="overtime"> Overtime </tui-radio-block>
          <tui-radio-block [hideRadio]="true" formControlName="type" item="update-time"> Update Time </tui-radio-block>
          <tui-radio-block [hideRadio]="true" formControlName="type" item="working-outside">
            Working Outside
          </tui-radio-block>
        </div>
        <div></div>
      </div>
      <div class="w-full text-center">
        <button class="tui-space_right-3 tui-space_bottom-3 mt-5" icon="tuiIconSearchLarge" tuiButton type="submit">
          Search
        </button>
      </div>
    </form>
    <div class="grid-rows-1">
      <div class="grid-cols-12">
        <table [columns]="columns" class="my-8 w-full" tuiTable>
          <thead>
            <tr tuiThGroup>
              <th *tuiHead="'type'" tuiTh>Name</th>
              <th *tuiHead="'fromDate'" tuiTh>fromDate</th>
              <th *tuiHead="'toDate'" tuiTh>toDate</th>
              <th *tuiHead="'reason'" tuiTh>reason</th>
              <th *tuiHead="'action'" class="w-32" tuiTh>Action</th>
            </tr>
          </thead>
          <tbody [data]="leaveTypes" tuiTbody>
            <tr *tuiRow="let req of leaveTypes; let index = index" tuiTr>
              <td *tuiCell="'type'" tuiTd>{{ index + 1 }}. {{ req.type }}</td>
              <td *tuiCell="'fromDate'" tuiTd>{{ index + 1 }}. {{ req.fromDate }}</td>
              <td *tuiCell="'toDate'" tuiTd>{{ index + 1 }}. {{ req.toDate }}</td>
              <td *tuiCell="'reason'" tuiTd>{{ index + 1 }}. {{ req.reason }}</td>
              <td *tuiCell="'action'" tuiTd>
                <button
                  [icon]="'tuiIconEditLarge'"
                  [routerLink]="['../edit/' + req.id]"
                  [shape]="$any('rounded')"
                  appearance="flat"
                  size="s"
                  tuiIconButton
                ></button>
              </td>
            </tr>
          </tbody>
        </table>
        <tui-table-pagination
          (pageChange)="onPage($event)"
          (sizeChange)="onSize($event)"
          [size]="size$"
          [total]="totalLength"
        ></tui-table-pagination>
        <p>Current page: {{ page$ | async }}</p>
      </div>
    </div>
  </div>
</div>
