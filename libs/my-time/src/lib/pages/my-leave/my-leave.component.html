<main class='main-page'>
  <header>
    <h1 class='text-4xl'>My Leave</h1>
    <div class='flex gap-4'>
      <!--      <tui-input-month [formControl]="dateControl" class="date-control">Choose a month</tui-input-month>-->
      <button (click)='showDialogSubmit()' class='blue-button'>
        <tui-svg class='-ml-1 mr-2' src='tuiIconPlusLarge'></tui-svg>
        Submit Leave Request
      </button>
    </div>
  </header>

  <section class='main-section px-8 py-10'>
    <div class='flex justify-start items-center mb-7'>
      <tui-input-month [formControl]='dateControl' class='w-48 mr-7'>Choose a month</tui-input-month>
      <button class='blue-button'>Search</button>
    </div>

    <article>
      <table [columns]='columns' class='hcm-tui-table' tuiTable>
        <thead>
        <tr tuiThGroup>
          <th *tuiHead="'date'" [sorter]='null' class='center-custom' tuiTh>Date</th>
          <th *tuiHead="'leaveType'" [sorter]='null' class='center-custom' tuiTh>Leave Type</th>
          <th *tuiHead="'days'" [sorter]='null' class='center-custom' tuiTh>Days</th>
          <th *tuiHead="'status'" [sorter]='null' class='center-custom' tuiTh>Status</th>
          <th *tuiHead="'sendTo'" [sorter]='null' class='center-custom' tuiTh>Send To</th>
          <th *tuiHead="'action'" [sorter]='null' style='text-align: center' tuiTh>Action</th>
        </tr>
        </thead>
        <tbody [data]='data' tuiTbody>
        <tr *tuiRow='let item of data' tuiTr>
          <td *tuiCell="'date'" class='underline' tuiTd>
            <p>{{ item.startTime }}</p>
          </td>

          <td *tuiCell="'leaveType'" tuiTd><strong>{{ item.leaveType?.name }}</strong></td>

          <td *tuiCell="'days'" class='center-custom font-semibold' tuiTd>1.0</td>

          <td *tuiCell="'status'" class='center-custom' tuiTd>
            <tui-tag
              class='font-bold'
              [class]="LeaveStatus[item.status] + '-tag'"
              [value]='LeaveStatus[item.status] | titlecase'
            ></tui-tag>
          </td>

          <td *tuiCell="'sendTo'" class='center-custom font-semibold' tuiTd><strong>Nguyen Hai Vien</strong></td>

          <td *tuiCell="'action'" class='center-custom' tuiTd>
            <div class='flex justify-center -m-2 gap-4'>
              <button
                  *ngIf='item.status !== 1'
                  class='text-blue-500 center-custom'
                  [icon]="'tuiIconTrashLarge'"
                  [shape]="$any('rounded')" appearance="flat" size="s" tuiIconButton
                  (click)='showDialogDelete(item.id)'
              ></button>
              <button
                  class='text-blue-500 center-custom'
                  [icon]="'tuiIconShowLarge'"
                  [shape]="$any('rounded')" appearance="flat" size="s" tuiIconButton
                  (click)='showDialog(item.id)'
                ></button>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </article>
    <tui-table-pagination
      [total]='totalLength'
      [(page)]='page'
      [(size)]='size'
      (pageChange)='onPage($event)'
      (sizeChange)='onSize($event)'
    ></tui-table-pagination>
    <p>Current page: {{ page + 1 }}</p>
    <p>Items per page: {{ size }}</p>
  </section>
</main>
