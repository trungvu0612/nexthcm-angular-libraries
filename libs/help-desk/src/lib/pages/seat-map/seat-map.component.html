<main class="main-page flex-auto">
  <header>
    <h1>Seat Map</h1>
    <div class="flex items-center gap-6 text-base">
      <button (click)="findMySeat()" class="text-blue-primary flex justify-between items-center">
        <tui-svg src="assets/icons/current-location.svg"></tui-svg>
        My seat
      </button>
      <form [formGroup]="form" class="w-60">
        <formly-form [fields]="fields" [form]="form" [model]="model"></formly-form>
      </form>
    </div>
  </header>
  <section class="main-section">
    <article *ngIf="seatMap$ | async as seatMap" [class.hidden]="hidden$ | async" class="relative">
      <hcm-seat
        (cdkDragEnded)="$event.source._dragRef.reset()"
        (cdkDragStarted)="moveSeat($event, index)"
        *ngFor="let seat of seatMap.seats; index as index"
        [class.ping]="index === (ping$ | async)"
        [dragging]="dragging$"
        [refresh$]="refresh$"
        [seat]="seat"
        cdkDrag
      ></hcm-seat>
      <img (load)="hidden$.next(false)" [src]="seatMap.imageUrl || '' | getFile | async" class="w-full" />
    </article>
  </section>
</main>
<footer class="flex justify-evenly items-center bg-white h-16">
  <div>
    <div class="checked-in"></div>
    Checked in
  </div>
  <div>
    <div class="not-check-in-out"></div>
    Not check in/out
  </div>
  <div>
    <div class="check-in-late"></div>
    Check in late
  </div>
  <div>
    <div class="working-outside"></div>
    Working outside
  </div>
  <div>
    <div class="leave"></div>
    Leave
  </div>
  <div>
    <div class="offline"></div>
    Offline
  </div>
  <div>
    <div class="none"></div>
    None
  </div>
</footer>
