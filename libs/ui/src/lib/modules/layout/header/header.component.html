<ng-container *transloco="let t">
  <header class="flex justify-between">
    <tui-tabs class="flex items-center ml-3">
      <a *ngFor="let tab of headerTabs" [routerLink]="[tab.link]" routerLinkActive tuiTab>
        {{ t(tab.label) }}
      </a>
    </tui-tabs>
    <div class="flex items-center border-l h-full">
      <tui-hosted-dropdown [(open)]="open" [content]="langsDropdown" class="mx-6">
        <button [iconRight]="icon" appearance="flat" tuiButton type="button">
          <tui-svg src="assets/icons/languages.svg"></tui-svg>
        </button>
        <ng-template #icon>
          <tui-svg [class.rotate-180]="open" class="transition transform" src="tuiIconChevronDown"></tui-svg>
        </ng-template>
      </tui-hosted-dropdown>
      <ng-template #langsDropdown>
        <tui-data-list>
          <button (click)="changeLang(lang.value)" *ngFor="let lang of languages" class="font-normal" tuiOption>
            {{ lang.label }}
          </button>
        </tui-data-list>
      </ng-template>

      <div class="relative cursor-pointer w-8 h-8">
        <tui-svg class="absolute bottom-0 left-0" src="tuiIconBellLarge"></tui-svg>
        <div *ngIf="notification" class="badge">{{ notification }}</div>
      </div>
      <tui-hosted-dropdown *rxLet="userProfile$; let userProfile" [content]="avatarDropdown" class="mx-8">
        <button>
          <hcm-avatar [image]="userProfile.image" [text]="userProfile.username" rounded size="s"></hcm-avatar>
        </button>
      </tui-hosted-dropdown>
      <ng-template #avatarDropdown>
        <tui-data-list>
          <button class="font-normal" routerLink="/profile" tuiOption>{{ t('profile') }}</button>
          <button (click)="onLogout()" class="font-normal" tuiOption>{{ t('signOut') }}</button>
        </tui-data-list>
      </ng-template>
    </div>
  </header>
</ng-container>
