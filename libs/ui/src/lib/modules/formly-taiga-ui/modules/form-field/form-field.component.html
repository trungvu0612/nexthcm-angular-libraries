<ng-container *ngIf="to['labelOutside']; else labelInside">
  <label *ngIf="to.label" [label]="label" style="min-height: unset" tuiLabel></label>
  <ng-container *ngTemplateOutlet="content"></ng-container>
</ng-container>

<ng-template #labelInside>
  <label *ngIf="to['textfieldLabelOutside']" [label]="label" tuiLabel>
    <ng-container *ngTemplateOutlet="content"></ng-container>
  </label>

  <ng-container *ngIf="!to['textfieldLabelOutside']">
    <ng-container *ngTemplateOutlet="content"></ng-container>
  </ng-container>
</ng-template>

<ng-template #content>
  <ng-container #fieldComponent></ng-container>
  <tui-error *ngIf="showError" [error]="error"></tui-error>
</ng-template>

<ng-template #label>
  <p *ngIf="to.label" [class]="to['labelClassName']" class="mb-1">
    <span>{{ to.label }}</span> <span *ngIf="to.required" class="tui-required"></span>
  </p>
</ng-template>

<ng-template #errorContent="polymorpheus" [polymorpheus]="context">
  <formly-validation-message [field]="field"></formly-validation-message>
</ng-template>
