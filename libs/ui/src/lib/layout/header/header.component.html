<header *transloco='let t' class='flex justify-between'>
  <tui-tabs [(activeItemIndex)]='activeItemIndex' class='flex items-center h-full ml-6'>
    <button (click)='changeTab(index)' *ngFor='let tab of tabs; index as index' tuiTab>{{ t(tab) }}</button>
  </tui-tabs>
  <div class='flex items-center border-l h-full'>
    <tui-hosted-dropdown [(open)]='open' [content]='dropdown' class='mx-6'>
      <button [iconRight]='icon' appearance='flat' tuiButton type='button'>
        <tui-svg src='assets/icons/languages.svg'></tui-svg>
      </button>
    </tui-hosted-dropdown>
    <div class='notification'>
      <tui-svg class='bell' src='tuiIconBellLarge'></tui-svg>
      <div *ngIf='notification' class='badge'>{{ notification }}</div>
    </div>
    <tui-hosted-dropdown [content]='avatarDropdown' class='mx-8'>
      <tui-avatar [rounded]='true' avatarUrl='assets/icons/cake.svg' class='cursor-pointer' size='s'></tui-avatar>
    </tui-hosted-dropdown>
  </div>
</header>

<ng-template #icon>
  <tui-svg [class.icon_rotated]='open' class='icon' src='tuiIconChevronDown'></tui-svg>
</ng-template>
<ng-template #dropdown>
  <tui-data-list class='langs'>
    <button (click)='changeLanguage(lang)' *ngFor='let lang of langs' class='font-normal' tuiOption>
      {{ lang }}
    </button>
  </tui-data-list>
</ng-template>

<ng-template #avatarDropdown>
  <tui-data-list>
    <button
      (click)='logout()'
      class='font-normal' tuiOption>Sign out
    </button>
  </tui-data-list>
</ng-template>
