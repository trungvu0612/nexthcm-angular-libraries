<custom-tui-combo-box
  *tuiLet="data$ | async as items"
  [formControl]="$any(formControl)"
  [icon]="to.icon || null"
  [stringify]="to.stringify"
  [tuiTextfieldCleaner]="to.textfieldCleaner"
  [tuiTextfieldLabelOutside]="true"
  [valueContent]="content"
>
  {{ to.title }}
  <ng-template #content let-item>
    <tui-avatar [avatarUrl]="item.image" class="avatar" size="m"></tui-avatar>
    {{ item[to.nameProp] }}
  </ng-template>
  <ng-template tuiDataList>
    <tui-data-list *ngIf="items">
      <button *ngFor="let item of items" [value]="item" tuiOption>
        <tui-avatar [avatarUrl]="item.image || null" class="avatar" size="m"></tui-avatar>
        <div>
          <p class="text-base">{{ item[to.nameProp] }}</p>
          <p class="text-xs font-normal">{{ item[to.idProp] }}</p>
        </div>
      </button>
    </tui-data-list>
  </ng-template>
</custom-tui-combo-box>
