<div class="flex">
  <tui-input-file
    [accept]="to.accept"
    [formControl]="control"
    [formlyAttributes]="field"
    [label]="to.labelText"
    [link]="to.linkText"
    [loadingFiles]="$any(loading$ | async)"
    [maxFileSize]="to.maxFileSize"
    [readOnly]="!!to.readonly"
    [rejectedFiles]="$any(rejected$ | async)"
    [showSize]="to.showSize"
    [size]="to.size"
    [style.maxWidth]="to.maxWidth"
    class="flex-1"
  ></tui-input-file>

  <tui-tooltip *ngIf="to.description" [content]="tooltip" class="flex-initial self-center ml-2"></tui-tooltip>
</div>

<ng-container *ngIf="formControl.valueChanges | async as formValue">
  <img *ngIf="formValue && to.previewImage" [src]="formValue | getFile | async" alt="" class="mt-4 w-24 h-24" />
</ng-container>

<ng-template #tooltip="polymorpheus" [polymorpheus]="context">
  {{ to.description }}
</ng-template>
