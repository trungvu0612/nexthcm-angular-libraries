<tui-radio-group
  *tuiLet="to.options | selectOptions | async as items"
  [attr.data-tui-host-orientation]="to.orientation"
  [attr.data-tui-host-size]="to.size"
  class="group"
>
  <div [ngClass]="{'grid md:grid-cols-2 gap-4': to?.orientation!='verticle'}">
    <tui-radio-labeled
      *ngFor="let item of items"
      [formControl]="$any(formControl)"
      [formlyAttributes]="field"
      [item]="to.valueProp ? item[to.valueProp] : item"
      [readOnly]="!!to.readonly"
      [size]="to.size"
      class="item"
    >
      <ng-container *ngIf="!to.customTemplate">
        <div class="grid md:grid-cols-2 gap-4">
          <div> {{ item[to.labelProp] }}</div>

          <div *ngIf="item[to.labelProp]=='On'">
            <tui-input-date class="input-date"
              [formControl]="repeatOnDate"
              tuiTextfieldSize="s"
              [tuiTextfieldLabelOutside]="true">
            </tui-input-date>
          </div>

          <div *ngIf="item[to.labelProp]=='After'">
            <div class="grid grid-cols-2">
              <div>
                <tui-select
                  tuiTextfieldSize="s"
                  [formControl]="afterRepeat"
                  [tuiTextfieldLabelOutside]="true"
                >
                  <tui-data-list-wrapper
                    *tuiDataList
                    [items]="repeatItems"
                  ></tui-data-list-wrapper>
                </tui-select>
              </div>
              <div class="text-base mx-2">occurrences</div>
            </div>

          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="to.customTemplate">
        <div class="flex items-center">
          <tui-svg src="assets/icons/building.svg"></tui-svg>
          <div class="ml-2 mr-2">
            <h5>{{ item[to.labelProp] }}</h5>
            <div class="text-xs">{{ item[to.subLabelProp] }}</div>
          </div>
        </div>
      </ng-container>
    </tui-radio-labeled>
  </div>
</tui-radio-group>
